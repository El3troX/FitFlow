<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Schedule - FitFlow</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <nav>
      <div class="logo">FitFlow</div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="workouts.html">Workouts</a></li>
        <li><a href="index.html#about">About</a></li>
      </ul>
      <a href="membership.html" class="cta-button">Join Now</a>
    </nav>
  </header>

  <!-- Workout Schedule Generator -->
  <section class="schedule-generator">
    <h2>Create Your Workout Schedule</h2>
    <p>Select your preferred exercise type, exercise, day, and time to generate a personalized workout schedule.</p>
    <form id="scheduleForm">
      <div class="form-group">
        <label for="exerciseType">Select Exercise Type:</label>
        <select id="exerciseType" name="exerciseType" required>
          <option value="">-- Select Type --</option>
          <option value="gym">Gym</option>
          <option value="yoga">Yoga</option>
          <option value="dance">Dance</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exercise">Select Exercise:</label>
        <select id="exercise" name="exercise" required disabled>
          <option value="">-- Select Exercise --</option>
        </select>
      </div>
      <div class="form-group">
        <label for="day">Select Day:</label>
        <select id="day" name="day" required>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
      </div>
      <div class="form-group">
        <label for="time">Select Time:</label>
        <input type="time" id="time" name="time" required>
      </div>
      <button type="submit" class="cta-button">Add to Schedule</button>
    </form>
  </section>

  <!-- Workout Schedule Display -->
  <section class="workout-schedule">
    <h2>Your Workout Schedule</h2>
    <p>Here's your personalized workout timetable. You can add or remove exercises as needed.</p>
    <div id="scheduleTable">
      <!-- Schedule will be dynamically populated here -->
    </div>
  </section>

  <footer>
    <p>&copy; 2025 FitFlow. All rights reserved.</p>
  </footer>

  <script>
    // Exercise data for each type
    const exercises = {
      gym: ["Bench Press", "Deadlift", "Squats", "Pull-Ups", "Leg Press", "Bicep Curls", "Tricep Dips"],
      yoga: ["Sun Salutation", "Warrior Pose", "Tree Pose", "Downward Dog", "Child's Pose"],
      dance: ["Zumba", "Hip-Hop", "Salsa", "Ballet", "Bollywood Dance"]
    };

    // Load schedule data from localStorage
    let scheduleData = JSON.parse(localStorage.getItem('workoutSchedule')) || [];

    // Function to render the schedule table
    function renderSchedule() {
      const scheduleTable = document.getElementById('scheduleTable');
      if (scheduleData.length > 0) {
        scheduleTable.innerHTML = `
          <table>
            <thead>
              <tr>
                <th>Day</th>
                <th>Time</th>
                <th>Exercise</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              ${scheduleData.map((item, index) => `
                <tr>
                  <td>${item.day}</td>
                  <td>${item.time}</td>
                  <td>${item.exercise}</td>
                  <td><button onclick="removeExercise(${index})" class="cta-button">Remove</button></td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        `;
      } else {
        scheduleTable.innerHTML = `<p>No exercises added yet. Add exercises to create your schedule.</p>`;
      }
    }

    // Function to populate exercises based on selected type
    document.getElementById('exerciseType').addEventListener('change', function () {
      const exerciseType = this.value;
      const exerciseSelect = document.getElementById('exercise');

      // Clear previous options
      exerciseSelect.innerHTML = '<option value="">-- Select Exercise --</option>';

      // Populate exercises based on selected type
      if (exerciseType && exercises[exerciseType]) {
        exercises[exerciseType].forEach(exercise => {
          const option = document.createElement('option');
          option.value = exercise;
          option.textContent = exercise;
          exerciseSelect.appendChild(option);
        });
        exerciseSelect.disabled = false; // Enable the exercise dropdown
      } else {
        exerciseSelect.disabled = true; // Disable the exercise dropdown
      }
    });

    // Function to add an exercise to the schedule
    document.getElementById('scheduleForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const exerciseType = document.getElementById('exerciseType').value;
      const exercise = document.getElementById('exercise').value;
      const day = document.getElementById('day').value;
      const time = document.getElementById('time').value;

      // Add the new exercise to the schedule data
      scheduleData.push({ exerciseType, exercise, day, time });

      // Save the updated schedule data to localStorage
      localStorage.setItem('workoutSchedule', JSON.stringify(scheduleData));

      // Re-render the schedule table
      renderSchedule();

      // Reset the form
      document.getElementById('scheduleForm').reset();
      document.getElementById('exercise').disabled = true; // Disable exercise dropdown after reset
    });

    // Function to remove an exercise from the schedule
    function removeExercise(index) {
      scheduleData.splice(index, 1); // Remove the exercise at the specified index
      localStorage.setItem('workoutSchedule', JSON.stringify(scheduleData)); // Update localStorage
      renderSchedule(); // Re-render the schedule table
    }

    // Render the schedule on page load
    renderSchedule();
  </script>
</body>
</html>